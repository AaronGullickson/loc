---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

<!-- badges: start -->
[![Travis build status](https://travis-ci.org/news-r/loc.svg?branch=master)](https://travis-ci.org/news-r/loc)
<!-- badges: end -->

# loc

Access the [Library of Congress](https://chroniclingamerica.loc.gov) from R.

> Chronicling America provides access to information about historic newspapers and select digitized newspaper pages. To encourage a wide range of potential uses, we designed several different views of the data we provide, all of which are publicly visible. Each uses common Web protocols, and access is not restricted in any way. You do not need to apply for a special key to use them. Together they make up an extensive application programming interface (API) which you can use to explore all of our data in many ways.

## Installation

``` r
# install.packages("remotes")
remotes::install_github("news-r/loc")
```

## Example

```{r}
library(loc)

# titles
titles <- loc_search_titles("michigan", pages = 2)

# pages
(articles <- loc_search_pages("Thomas"))
```

The text of the newspaper is in the `ocr_eng` variable. You can reconstruct endpoints to specific newspapers, editions, or issues.

```{r}
a <- sample(articles$url, 1) # take a random article
pdf <- gsub(".json", ".pdf", a) # change to PDF
# browseURL(pdf)
```

![](loc.png)

And you can get the text with:

```{r}
txt <- gsub(".json", ".txt", a) # change to PDF
readLines(txt)
```